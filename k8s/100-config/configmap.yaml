apiVersion: v1
kind: ConfigMap
metadata:
  name: n8n-config
  namespace: n8n
data:
  # Database configuration
  DB_TYPE: "postgresdb"
  # Aurora connection details managed by AWS Secrets Manager CSI driver (n8n-aurora-secrets)
  # n8n application secrets managed by AWS Secrets Manager CSI driver (n8n-app-secrets)

  # Redis configuration
  QUEUE_BULL_REDIS_HOST: "redis.n8n.svc.cluster.local"
  QUEUE_BULL_REDIS_PORT: "6379"

  # Queue mode configuration
  EXECUTIONS_MODE: "queue"

  # n8n server configuration
  N8N_PORT: "5678"
  N8N_PROTOCOL: "http"
  N8N_SECURE_COOKIE: "false"

  # Worker configuration
  QUEUE_WORKER_TIMEOUT: "60"

  # Binary data configuration
  N8N_DEFAULT_BINARY_DATA_MODE: "database"

